<h1>Caching</h1>
<div class="controls">
  <button
    *ngFor="let link of links"
    mat-raised-button
    (click)="request(link.url)"
    [ngClass]="{ 'in-cache': inCache(link.url) }"
  >
    {{ link.name }}
  </button>
  <button mat-raised-button (click)="response = undefined" color="warn">clear request</button>
</div>

<div class="json-output">
  <pre>{{ response | json }}</pre>
</div>

<div class="cache-log" *ngIf="!!(cache$ | async).length">
  <div class="cache">
    <h2>Cache</h2>
    <button mat-raised-button (click)="clearCache()" color="warn">clear cache & logs</button>
    <div class="cache-list">
      <pre *ngFor="let c of cache$ | async">{{ c | json }}</pre>
    </div>
  </div>
</div>
